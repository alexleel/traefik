(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["7ba452e3"],{"10c4":function(t,e,a){"use strict";var s=a("53a5"),r=a.n(s);r.a},"1a8b":function(t,e,a){},"2ef5":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-wrapper"},[a("q-table",{attrs:{data:t.data,columns:t.columns,"row-key":"name",pagination:t.syncPagination,"rows-per-page-options":[10,20,40,80,100,0],loading:t.loading,filter:t.filter,"binary-state-sort":"","visible-columns":t.visibleColumns,color:"primary","table-header-class":"table-header"},on:{"update:pagination":function(e){t.syncPagination=e},request:t.request},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},nativeOn:{click:function(a){return t.$router.push({path:"/"+t.getPath+"/"+e.row.name})}}},[a("q-td",{key:"status",attrs:{props:e,"auto-width":""}},[a("avatar-state",{attrs:{state:t._f("status")(e.row.status)}})],1),a("q-td",{key:"tls",attrs:{props:e,"auto-width":""}},[a("t-l-s-state",{attrs:{"is-t-l-s":e.row.tls}})],1),a("q-td",{key:"rule",attrs:{props:e}},[e.row.rule?a("q-chip",{staticClass:"app-chip app-chip-rule",attrs:{dense:""}},[t._v("\n            "+t._s(e.row.rule)+"\n          ")]):t._e()],1),a("q-td",{key:"entryPoints",attrs:{props:e}},[e.row.using?a("div",t._l(e.row.using,function(e,s){return a("q-chip",{key:s,staticClass:"app-chip app-chip-entry-points",attrs:{dense:""}},[t._v("\n              "+t._s(e)+"\n            ")])}),1):t._e()]),a("q-td",{key:"name",attrs:{props:e}},[e.row.name?a("q-chip",{staticClass:"app-chip app-chip-name",attrs:{dense:""}},[t._v("\n            "+t._s(e.row.name)+"\n          ")]):t._e()],1),a("q-td",{key:"type",attrs:{props:e}},[e.row.type?a("q-chip",{staticClass:"app-chip app-chip-entry-points",attrs:{dense:""}},[t._v("\n            "+t._s(e.row.type)+"\n          ")]):t._e()],1),a("q-td",{key:"servers",attrs:{props:e}},[a("span",{staticClass:"servers-label"},[t._v(t._s(t._f("servers")(e.row)))])]),a("q-td",{key:"service",attrs:{props:e}},[e.row.service?a("q-chip",{staticClass:"app-chip app-chip-service",attrs:{dense:""}},[t._v("\n            "+t._s(e.row.service)+"\n          ")]):t._e()],1),a("q-td",{key:"provider",attrs:{props:e,"auto-width":""}},[a("q-avatar",{staticClass:"provider-logo"},[a("q-icon",{attrs:{name:"img:statics/providers/"+e.row.provider+".svg"}})],1)],1)],1)]}}])})],1)},r=[],i=(a("a481"),a("7f7f"),a("a10c")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-avatar",{attrs:{"text-color":"dark"}},[t.isTLS?a("q-icon",{attrs:{name:"eva-shield"}}):t._e()],1)},o=[],l={name:"TLSState",props:["isTLS"]},c=l,p=(a("69b9"),a("2877")),u=Object(p["a"])(c,n,o,!1,null,"2fde2a9e",null),d=u.exports,m={name:"MainTable",props:["data","request","loading","pagination","filter","type"],components:{TLSState:d,AvatarState:i["a"]},data:function(){return{visibleColumnsHttpRouters:["status","rule","entryPoints","name","service","tls","provider"],visibleColumnsHttpServices:["status","name","type","servers","provider"],visibleColumnsHttpMiddlewares:["status","name","type","provider"],visibleColumns:["status","name","provider"],columns:[{name:"status",required:!0,label:"Status",align:"left",field:function(t){return t.status}},{name:"tls",align:"left",label:"TLS",field:function(t){return t}},{name:"rule",align:"left",label:"Rule",field:function(t){return t.rule}},{name:"entryPoints",align:"left",label:"Entrypoints",field:function(t){return t.entryPoints}},{name:"name",align:"left",label:"Name",field:function(t){return t.name}},{name:"type",align:"left",label:"Type",field:function(t){return t.type}},{name:"servers",align:"right",label:"Servers",field:function(t){return t.servers}},{name:"service",align:"left",label:"Service",field:function(t){return t.service}},{name:"provider",align:"center",label:"Provider",field:function(t){return t.provider}}]}},computed:{syncPagination:{get:function(){return this.pagination},set:function(t){this.$emit("update:pagination",t)}},getPath:function(){return this.type.replace("-","/","gi")}},filters:{status:function(t){return"enabled"===t?"positive":"disabled"===t?"negative":t},servers:function(t){return t.loadBalancer&&t.loadBalancer.servers?t.loadBalancer.servers.length:0}},created:function(){"http-routers"!==this.type&&"tcp-routers"!==this.type||(this.visibleColumns=this.visibleColumnsHttpRouters),"http-services"!==this.type&&"tcp-services"!==this.type||(this.visibleColumns=this.visibleColumnsHttpServices),"http-middlewares"===this.type&&(this.visibleColumns=this.visibleColumnsHttpMiddlewares)}},f=m,v=(a("8898"),Object(p["a"])(f,s,r,!1,null,"26564838",null));e["a"]=v.exports},"53a5":function(t,e,a){},"5cc2":function(t,e,a){},"69b9":function(t,e,a){"use strict";var s=a("1a8b"),r=a.n(s);r.a},"82c2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-default",[t.loading?t._e():a("section",{staticClass:"app-section"},[a("div",{staticClass:"app-section-wrap app-boxed app-boxed-xl q-pl-md q-pr-md q-pt-xl q-pb-sm"},[t.middlewareByName.item?a("div",{staticClass:"row no-wrap items-center app-title"},[a("div",{staticClass:"app-title-label",staticStyle:{"font-size":"26px"}},[t._v(t._s(t.middlewareByName.item.name))])]):t._e()])]),a("section",{staticClass:"app-section"},[a("div",{staticClass:"app-section-wrap app-boxed app-boxed-xl q-pl-md q-pr-md q-pt-sm q-pb-lg"},[t.loading?a("div",{staticClass:"row items-start q-mt-xl"},[a("div",{staticClass:"col-12"},t._l(4,function(t){return a("p",{key:t,staticClass:"flex"},[a("SkeletonBox",{staticStyle:{"margin-right":"2%"},attrs:{"min-width":15,"max-width":15}}),a("SkeletonBox",{attrs:{"min-width":50,"max-width":83}})],1)}),0)]):a("div",{staticClass:"row items-start q-col-gutter-md"},[t.middlewareByName.item?a("div",{staticClass:"col-12 col-md-4 q-mb-lg path-block"},[a("div",{staticClass:"row items-start q-col-gutter-lg"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row items-start q-col-gutter-md"},[a("div",{staticClass:"col-12"},[a("panel-middlewares",{attrs:{dense:"",data:[t.middlewareByName.item]}})],1)])])])]):t._e()])])]),!t.loading&&t.allRouters.length?a("section",{staticClass:"app-section"},[a("div",{staticClass:"app-section-wrap app-boxed app-boxed-xl q-pl-md q-pr-md q-pt-lg q-pb-xl"},[a("div",{staticClass:"row no-wrap items-center q-mb-lg app-title"},[a("div",{staticClass:"app-title-label"},[t._v("Used by Routers")])]),a("div",{staticClass:"row items-center q-col-gutter-lg"},[a("div",{staticClass:"col-12"},[a("main-table",{attrs:{data:t.allRouters,request:function(){},loading:t.routersLoading,pagination:t.routersPagination,filter:t.routersFilter,type:t.protocol+"-routers"},on:{"update:pagination":function(e){t.routersPagination=e}}})],1)])])]):t._e()])},r=[],i=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("7f7f"),a("c47a")),n=a.n(i),o=a("2f62"),l=a("5abb"),c=a("59a8"),p=a("6069"),u=a("2ef5");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(a,!0).forEach(function(e){n()(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var f={name:"PageMiddlewareDetail",props:["name","type"],components:{PageDefault:l["a"],SkeletonBox:c["a"],PanelMiddlewares:p["a"],MainTable:u["a"]},data:function(){return{loading:!0,timeOutGetAll:null,allRouters:[],routersLoading:!0,routersFilter:"",routersStatus:"",routersPagination:{sortBy:"",descending:!0,page:1,rowsPerPage:1e3,rowsNumber:0}}},computed:m({},Object(o["c"])("http",{http_middlewareByName:"middlewareByName"}),{protocol:function(){return this.$route.meta.protocol},middlewareByName:function(){return this["".concat(this.protocol,"_middlewareByName")]},getMiddlewareByName:function(){return this["".concat(this.protocol,"_getMiddlewareByName")]},getRouterByName:function(){return this["".concat(this.protocol,"_getRouterByName")]}}),methods:m({},Object(o["b"])("http",{http_getMiddlewareByName:"getMiddlewareByName",http_getRouterByName:"getRouterByName"}),{refreshAll:function(){this.middlewareByName.loading||this.onGetAll()},onGetAll:function(){var t=this;this.getMiddlewareByName(this.name).then(function(e){if(e){if(e.usedBy)for(var a in e.usedBy)e.usedBy.hasOwnProperty(a)&&t.getRouterByName(e.usedBy[a]).then(function(e){e&&(t.routersLoading=!1,t.allRouters.push(e))}).catch(function(t){});clearTimeout(t.timeOutGetAll),t.timeOutGetAll=setTimeout(function(){t.loading=!1},300)}else t.loading=!1}).catch(function(t){})}}),created:function(){this.refreshAll()},mounted:function(){},beforeDestroy:function(){clearInterval(this.timeOutGetAll),this.$store.commit("http/getMiddlewareByNameClear")}},v=f,h=(a("10c4"),a("2877")),g=Object(h["a"])(v,s,r,!1,null,"0897466e",null);e["default"]=g.exports},8898:function(t,e,a){"use strict";var s=a("5cc2"),r=a.n(s);r.a}}]);